<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>APS3E Compatibility</title>

<!-- DataTables -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/jquery.dataTables.min.css">

<style>
body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
  background: #f4f4f4;
  color: #111;
}

main {
  max-width: 1200px;
  margin: auto;
  padding: 16px;
}

h1 {
  margin: 0 0 12px 0;
}

#stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 12px;
  margin-bottom: 20px;
}

.stat {
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 10px;
  font-size: 14px;
}

.stat strong {
  cursor: pointer;
}

.status {
  font-weight: 600;
}

.Nothing { color: #c0392b; }
.Bootable { color: #e67e22; }
.Intro { color: #2980b9; }
.Menu { color: #8e44ad; }
.IngameMinus { color: #f1c40f; }
.IngamePlus { color: #f39c12; }
.Playable { color: #27ae60; }

#lastUpdated {
  margin-top: 12px;
  font-size: 13px;
  color: #666;
}

/* Mobile */
@media (max-width: 700px) {
  table.dataTable thead {
    display: none;
  }
}
</style>
</head>

<body>
<main>

<h1>APS3E Compatibility List</h1>

<div id="stats"></div>

<table id="compat" class="display" style="width:100%">
<thead>
<tr>
  <th>Title ID</th>
  <th>Entry Name</th>
  <th>Status</th>
</tr>
</thead>
<tbody>

<tr><td>BCUS98111</td><td>God of War III</td><td>Playable</td></tr>
<tr><td>BCUS98130</td><td>Uncharted 2</td><td>Ingame +</td></tr>
<tr><td>BCUS98150</td><td>LittleBigPlanet</td><td>Menu</td></tr>
<tr><td>BCUS98160</td><td>Killzone 2</td><td>Intro</td></tr>
<tr><td>BCUS98170</td><td>MotorStorm</td><td>Nothing</td></tr>
<tr><td>BCUS98180</td><td>Resistance</td><td>Bootable</td></tr>

</tbody>
</table>

<div id="lastUpdated"></div>

</main>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>

<script>
const statusInfo = {
  "Nothing": "Games that don't boot at all, not displaying an initial black screen with a FPS counter.",
  "Bootable": "Games that boot but display nothing more than a black screen with a FPS counter.",
  "Intro": "Games that display any image on screen but doesn't reach to menus.",
  "Menu": "Games that get into menu but can't enter Ingame.",
  "Ingame -": "Games that go ingame but have major issues that prevents it from going further early on.",
  "Ingame +": "Games that go far ingame but have glitches that render the game unplayable or have non-playable performance.",
  "Playable": "Games that can be played from start to finish with playable performance and no game breaking glitches."
};

$(document).ready(function () {

  const table = $("#compat").DataTable({
    pageLength: 25,
    order: [[2, "desc"]]
  });

  // Colorize status column
  $("#compat tbody tr").each(function () {
    const cell = $(this).find("td").eq(2);
    const status = cell.text().trim();
    let cls = status.replace(" ", "").replace("-", "Minus").replace("+", "Plus");
    cell.addClass("status " + cls);
  });

  // Build stats
  const counts = {};
  table.column(2).data().each(s => {
    counts[s] = (counts[s] || 0) + 1;
  });

  const total = table.rows().count();
  let statsHtml = "";

  Object.keys(statusInfo).forEach(s => {
    if (!counts[s]) return;
    const percent = ((counts[s] / total) * 100).toFixed(2);
    statsHtml += `
      <div class="stat">
        <strong onclick="filterStatus('${s}')">${s}</strong>
        (${percent}% Â· ${counts[s]}/${total})<br>
        <span style="color:#666">${statusInfo[s]}</span>
      </div>
    `;
  });

  $("#stats").html(statsHtml);

  window.filterStatus = function (status) {
    table.column(2).search(status).draw();
  };

  $("#lastUpdated").text(
    "Last Updated at: " + new Date().toLocaleString()
  );

});
</script>

</body>
</html>
